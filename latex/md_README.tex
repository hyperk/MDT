C++ Stand-\/alone library for Merging, Digitizing, and Triggering hits of photomultiplier tubes (PMTs) based on \href{https://github.com/WCSim/WCSim}{\texttt{ WCSim}}. A Python interface is optionally provided, requiring pre-\/installation of \href{https://pybind11.readthedocs.io/en/stable/installing.html}{\texttt{ pybind11}}.

The library provides C++ classes that manage three tasks\+:


\begin{DoxyItemize}
\item Merging true hits (simulated photoelectrons by WCSim) of an events with those of any number of events
\begin{DoxyItemize}
\item Intrinsic dark noise can be added during this stage
\end{DoxyItemize}
\item Digitizing true hits
\begin{DoxyItemize}
\item Timing and charge of a digitized hit is simulated by a simple model used in WCSim
\item The library is capable of accomodating alternative models
\item Parameters describing PMT charcteristics such as timing resolution can be varied
\item Digitized hits by PMT afterpusing can be added
\end{DoxyItemize}
\item Triggering digitized hits
\begin{DoxyItemize}
\item A simple algorithm that counts number of digitized hits falling in a sliding time winodw
\item Selectable trigger window and thershold
\end{DoxyItemize}
\end{DoxyItemize}\hypertarget{md_README_autotoc_md1}{}\doxysection{WCTE/\+WCSim usage}\label{md_README_autotoc_md1}
Simple runtime procedures. First set up your ROOT and WCSIM\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{source your\_thisroot.sh}
\DoxyCodeLine{export WCSIMDIR=your\_WCSIM\_installation}

\end{DoxyCode}
 If {\ttfamily lib\+WCSim\+Root.\+so} is not directly under {\ttfamily WCSIMDIR}, export to {\ttfamily WCSIMROOTDIR}. 
\begin{DoxyCode}{0}
\DoxyCodeLine{export WCSIMROOTDIR=your\_libWCSimRoot.so\_installation}

\end{DoxyCode}
 Then set up the MDT environment. 
\begin{DoxyCode}{0}
\DoxyCodeLine{source envMDT.sh}
\DoxyCodeLine{cd \$MDTROOT/cpp; make clean; make all}
\DoxyCodeLine{cd \$MDTROOT/app/utilities/WCRootData; make clean; make all}
\DoxyCodeLine{cd \$MDTROOT/app/application; make clean; make all}
\DoxyCodeLine{cd \$MDTROOT}
\DoxyCodeLine{\# edit variables properly in run\_test\_mdt4wcte.sh}
\DoxyCodeLine{bash run\_test\_mdt4iwcd.sh}

\end{DoxyCode}
\hypertarget{md_README_autotoc_md2}{}\doxysection{IWCD usage}\label{md_README_autotoc_md2}
Essentially the same usage but with OD support. 
\begin{DoxyCode}{0}
\DoxyCodeLine{\# edit variables properly in run\_test\_mdt4iwcd.sh}
\DoxyCodeLine{bash run\_test\_mdt4iwcd.sh}

\end{DoxyCode}
\hypertarget{md_README_autotoc_md3}{}\doxysection{IWCD pile-\/up generation}\label{md_README_autotoc_md3}
Example usage 
\begin{DoxyCode}{0}
\DoxyCodeLine{\$MDTROOT/app/application/appGenPileUpSpill \$MDTROOT/example/genPileUpConfig.txt}

\end{DoxyCode}
 The application generates pile-\/up events by combining ID neutrino interaction events and beam background events in a spill.

Input variables are\+:
\begin{DoxyItemize}
\item {\ttfamily List\+IDNu\+Int\+Files},{\ttfamily List\+Beam\+Bkg\+Files}\+: list of WCSim output files for the ID and background events
\item {\ttfamily Out\+File\+Name\+Prefix}\+: output file name will be something like \char`\"{}\+Out\+File\+Name\+Prefix\char`\"{}.00000.\+root
\item {\ttfamily MDTPar\+File}\+: MDT config file
\item {\ttfamily Initial\+Seed}\+: Random seed
\item {\ttfamily IDNu\+Int\+Rate},{\ttfamily Beam\+Bkg\+Rate}\+: Mean number of ID and background events per spill. In each spill, the actual number of interactions are drawn from a Poisson distribution, and interaction timing according to the bunch structure (see {\ttfamily \mbox{\hyperlink{classBeamTiming}{Beam\+Timing}}} class under {\ttfamily app/utilities/\+WCRoot\+Data/})
\item {\ttfamily Use\+OD}\+: Process OD hits
\item {\ttfamily Num\+Of\+Spills\+Saved\+Per\+File}, {\ttfamily Total\+Num\+Of\+Spills}\+: output spill setup 
\end{DoxyItemize}